{% extends "base.html" %}

{% block title %}–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∞–π–ª–∞ - FileShare{% endblock %}

{% block content %}
<div class="settings-container">
    <h1>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∞–π–ª–∞</h1>
    
    <div class="file-info-card">
        <h3>{{ file_info.filename }}</h3>
        <div class="info-row">
            <span class="label">–¢–æ–∫–µ–Ω:</span>
            <code class="token-small">{{ file_info.token }}</code>
        </div>
        <div class="info-row">
            <span class="label">–ó–∞–≥—Ä—É–∂–µ–Ω:</span>
            <span>{{ file_info.created_at }}</span>
        </div>
        {% if file_info.expires_at %}
        <div class="info-row">
            <span class="label">–ò—Å—Ç–µ–∫–∞–µ—Ç:</span>
            <span>{{ file_info.expires_at }}</span>
        </div>
        {% endif %}
        {% if file_info.max_downloads %}
        <div class="info-row">
            <span class="label">–°–∫–∞—á–∏–≤–∞–Ω–∏–π:</span>
            <span>{{ file_info.downloads_count }} / {{ file_info.max_downloads }}</span>
        </div>
        {% else %}
        <div class="info-row">
            <span class="label">–°–∫–∞—á–∏–≤–∞–Ω–∏–π:</span>
            <span>{{ file_info.downloads_count }}</span>
        </div>
        {% endif %}
    </div>
    
    <form action="/file/{{ token }}/settings" method="post" class="settings-form">
        <div class="form-section">
            <h3>üîí –ü–∞—Ä–æ–ª—å</h3>
            {% if file_info.has_password %}
            <div class="form-group">
                <label>
                    <input type="checkbox" name="remove_password" value="true" id="removePassword">
                    –£–¥–∞–ª–∏—Ç—å –ø–∞—Ä–æ–ª—å
                </label>
            </div>
            {% endif %}
            <div class="form-group">
                <label for="password">
                    {% if file_info.has_password %}
                    –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å:
                    {% else %}
                    –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å:
                    {% endif %}
                </label>
                <input type="password" id="password" name="password" class="form-input" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, —á—Ç–æ–±—ã –Ω–µ –º–µ–Ω—è—Ç—å">
                <p class="form-help">–ü–∞—Ä–æ–ª—å –∑–∞—â–∏—Ç–∏—Ç —Ñ–∞–π–ª –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞</p>
            </div>
        </div>
        
        <div class="form-section">
            <h3>üìÖ –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è</h3>
            <div class="form-row">
                <div class="form-group">
                    <label for="expires_days">–î–Ω–∏:</label>
                    <input type="number" id="expires_days" name="expires_days" min="0" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 7">
                </div>
                <div class="form-group">
                    <label for="expires_hours">–ß–∞—Å—ã:</label>
                    <input type="number" id="expires_hours" name="expires_hours" min="0" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 24">
                </div>
            </div>
            <p class="form-help">–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, —á—Ç–æ–±—ã –Ω–µ –º–µ–Ω—è—Ç—å. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ 0 –¥–ª—è –æ–±–æ–∏—Ö –ø–æ–ª–µ–π, —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è.</p>
        </div>
        
        <div class="form-section">
            <h3>üìä –õ–∏–º–∏—Ç —Å–∫–∞—á–∏–≤–∞–Ω–∏–π</h3>
            <div class="form-group">
                <label for="max_downloads">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∫–∞—á–∏–≤–∞–Ω–∏–π:</label>
                <input type="number" id="max_downloads" name="max_downloads" min="1" class="form-input" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å –ª–∏–º–∏—Ç">
                <p class="form-help">–ü–æ—Å–ª–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ —Ñ–∞–π–ª —Å—Ç–∞–Ω–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</p>
            </div>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
            <a href="/download/{{ token }}" class="btn btn-outline">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ñ–∞–π–ª—É</a>
            <a href="/dashboard" class="btn btn-outline">üìÅ –ú–æ–∏ —Ñ–∞–π–ª—ã</a>
        </div>
    </form>
</div>
{% endblock %}

