{% extends "base.html" %}

{% block title %}–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω - FileShare{% endblock %}

{% block content %}
<div class="success-container">
    <div class="success-icon">‚úì</div>
    <h1>–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω!</h1>
    
    <div class="file-info-card">
        <h3>{{ file_info.filename }}</h3>
        <div class="info-row">
            <span class="label">–¢–æ–∫–µ–Ω:</span>
            <code class="token">{{ file_info.token }}</code>
        </div>
        {% if file_info.expires_at %}
        <div class="info-row">
            <span class="label">–ò—Å—Ç–µ–∫–∞–µ—Ç:</span>
            <span>{{ file_info.expires_at }}</span>
        </div>
        {% endif %}
        {% if file_info.max_downloads %}
        <div class="info-row">
            <span class="label">–õ–∏–º–∏—Ç —Å–∫–∞—á–∏–≤–∞–Ω–∏–π:</span>
            <span>{{ file_info.max_downloads }}</span>
        </div>
        {% endif %}
    </div>
    
    <div class="link-box">
        <label>–°—Å—ã–ª–∫–∞ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è:</label>
        <div class="link-input-group">
            <input type="text" id="download-link" value="{{ download_url }}" readonly class="link-input">
            <button onclick="copyLink()" class="btn btn-secondary">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
            <a href="{{ download_url }}" class="btn btn-primary">–û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª</a>
        </div>
    </div>
    
    {% if not is_authenticated %}
    <div class="registration-promo">
        <h3>üí° –•–æ—Ç–∏—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏?</h3>
        <p>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã:</p>
        <ul>
            <li>‚úì –í–∏–¥–µ—Ç—å –≤—Å–µ —Å–≤–æ–∏ —Ñ–∞–π–ª—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ</li>
            <li>‚úì –£–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Ñ–∞–π–ª–æ–≤</li>
            <li>‚úì –ü—Ä–æ–¥–ª–µ–≤–∞—Ç—å —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è</li>
            <li>‚úì –ú–µ–Ω—è—Ç—å –ø–∞—Ä–æ–ª–∏ –∏ –ª–∏–º–∏—Ç—ã</li>
        </ul>
        <div class="promo-actions">
            <a href="/register" class="btn btn-primary">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
            <a href="/login" class="btn btn-outline">–í—Ö–æ–¥</a>
        </div>
    </div>
    {% endif %}
    
    <div class="actions">
        <a href="/" class="btn btn-primary">–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â–µ</a>
        {% if is_authenticated %}
        <a href="/dashboard" class="btn btn-outline">–ú–æ–∏ —Ñ–∞–π–ª—ã</a>
        {% endif %}
    </div>
</div>

<script>
function copyLink() {
    const input = document.getElementById('download-link');
    input.select();
    document.execCommand('copy');
    
    const btn = event.target;
    const originalText = btn.textContent;
    btn.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
    btn.classList.add('copied');
    
    setTimeout(() => {
        btn.textContent = originalText;
        btn.classList.remove('copied');
    }, 2000);
}
</script>
{% endblock %}

